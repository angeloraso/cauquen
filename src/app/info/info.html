<bizy-toolbar>

    <img slot=start class="cauquen-logo" src="/assets/favicons/favicon.ico" alt="logo"/>
    
    <h1 slot=start>{{'INFO.TITLE' | translate}}</h1>

    <bizy-button slot="end" class="cauquen-toolbar-action" (onSelect)="addRecord()" *ngIf="isAdmin"><h2><i class="fa-solid fa-plus"></i></h2></bizy-button>

</bizy-toolbar>

<bizy-content>

     <bizy-list *ngIf="loading" class="animated fade-in">

        <bizy-skeleton height="2.6rem"></bizy-skeleton>

        <bizy-section>

            <bizy-section-start>

                <bizy-list *ngFor="let i of 3 | bizyRepeat">
    
                    <bizy-skeleton *ngFor="let j of 12 | bizyRepeat" height="2rem"></bizy-skeleton>
    
                </bizy-list>

            </bizy-section-start>

        </bizy-section>

    </bizy-list>

    <bizy-table *ngIf="!loading" class="animated fade-in">

        <bizy-table-header>
    
            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('from')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.MONTH' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'from'"></bizy-table-column-arrows>
            </bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('inflationRate')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.US_INFLATION_RATE' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'usInflationRate'"></bizy-table-column-arrows>
            </bizy-table-column>
    
            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('inflationRate')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.INFLATION_RATE' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'inflationRate'"></bizy-table-column-arrows>
            </bizy-table-column>
    
            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('fixedRate')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.FIXED_RATE' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'fixedRate'"></bizy-table-column-arrows>
            </bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('retailDollar')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.RETAIL_DOLLAR' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'retailDollar'"></bizy-table-column-arrows>
            </bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('cclDollar')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.CCL_DOLLAR' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'cclDollar'"></bizy-table-column-arrows>
            </bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('mepDollar')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.MEP_DOLLAR' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'mepDollar'"></bizy-table-column-arrows>
            </bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}" (onSelect)="onSort('cryptoDollar')">
                <h5 class="cauquen-action--info"><strong>{{'CORE.FORM.FIELD.CRYPTO_DOLLAR' | translate}}</strong></h5>
                <bizy-table-column-arrows [order]="order" [show]="orderBy === 'cryptoDollar'"></bizy-table-column-arrows>
            </bizy-table-column>
    
            <bizy-table-column *ngIf="isAdmin" [ngStyle]="{flex: 1, minWidth: '3rem'}"></bizy-table-column>
    
        </bizy-table-header>
    
        <bizy-table-row *ngFor="let record of info | bizyOrderBy: order : orderBy">
    
            <bizy-table-column [ngStyle]="{flex: 3}"><h6>{{record.from | date: 'yyyy/MM'}}</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>{{record.usInflationRate | number : '1.2-2'}} %</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>{{record.inflationRate | number : '1.2-2'}} %</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>{{record.fixedRate | number : '1.2-2'}} %</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>$ {{record.retailDollar | number : '1.2-2'}}</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>$ {{record.cclDollar | number : '1.2-2'}}</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>$ {{record.mepDollar | number : '1.2-2'}}</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 3}"><h6>$ {{record.cryptoDollar | number : '1.2-2'}}</h6></bizy-table-column>

            <bizy-table-column [ngStyle]="{flex: 1, minWidth: '3rem'}">
                <bizy-button (onSelect)="openConfirmPopup(record)" class="cauquen-action cauquen-action--danger"><i class="fa-solid fa-trash-alt"></i></bizy-button>
            </bizy-table-column>

        </bizy-table-row>
    
    </bizy-table>

</bizy-content>